<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="carrito_styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Lemon&display=swap" rel="stylesheet">
    <title>Carrito de Presupuesto</title>
    <script>
        // Función que realiza la búsqueda
        function realizarBusqueda() {
            let query = document.getElementById("searchInput").value;
            if (query) {
                alert("Buscando: " + query); // Aquí puedes reemplazar el alert por la lógica de búsqueda que prefieras
            }
        }

        // Detectar cuando se presiona Enter en el campo de búsqueda
        document.addEventListener("DOMContentLoaded", function() {
            let searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("keydown", function(event) {
                if (event.key === "Enter") { // Verificar si la tecla presionada es Enter
                    realizarBusqueda(); // Llamar a la función de búsqueda
                }
            });
        });
    </script>
</head>
<body>
    <header>
        <section class="barra-superior">
            <div class="logo">
                <img src="images/logoECDA.png" alt="Logo">
            </div>
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Buscar...">
                <button onclick="realizarBusqueda()">
                    <img src="images/buscar.png" alt="Buscar">
                </button>
            </div>
            <div class="icons">
                <a href="LINK">
                    <img src="images/ahorro.png" alt="Ahorro">
                </a>
                <a href="LINK">
                    <img src="images/categorias.png" alt="Categorias">
                </a>
                <a href="LINK">
                    <img src="images/carrito-de-compras.png" alt="Carrito de Compras">
                </a>
                <a href="LINK">
                    <img src="images/tienda.png" alt="Tienda">
                </a>
                <a href="LINK">
                    <img src="images/iniciar-sesion.png" alt="Iniciar Sesion">
                </a>    
            </div>
        </section>
    </header>

    <main>
        <div class="contenedor-principal"> <!-- Contenedor adicional -->
            <h2 class="titulo-carrito">Carrito de Presupuesto</h2>
    
            <div class="tienda-container"> <!-- Contenedor gigante para Tienda 1 -->
                <h2>Gumbo</h2>
                <div class="productos-container">
                    <div class="producto">
                        <div class="image-container">
                            <img src="images/Asiento.jpg" alt="Producto 1">
                            <span class="tooltip">Asiento Al Vacío: Un corte premium de carne.</span>
                        </div>
                        <p>Asiento Al Vacío</p>
                        <p class="precio normal">$13.690</p>
                        <p class="precio oferta">$12.000</p>
                        <button class="agregar-btn" onclick="addToCart('Asiento Al Vacío', 12000)">Agregar al carrito</button>
                    </div>
                    <div class="producto">
                        <div class="image-container">
                            <img src="images/Paltas.jpg" alt="Paltas">
                            <span class="tooltip">Palta: Fruta rica en grasas saludables.</span>
                        </div>
                        <p>1Kl Palta</p>
                        <p class="precio normal">$6.990</p>
                        <p class="precio oferta">$6.000</p>
                        <button class="agregar-btn" onclick="addToCart('Kilo ( Palta )', 6000)">Agregar al carrito</button>
                    </div>
                </div>
            </div>
    
            <div class="tienda-container"> <!-- Contenedor gigante para Tienda 2 -->
                <h2>Unismarc</h2>
                <div class="productos-container">
                    <div class="producto">
                        <div class="image-container">
                            <img src="images/Leche Colun.jpg" alt="Leche Colun">
                            <span class="tooltip">Leche Colun: Producto lácteo fresco.</span>
                        </div>
                        <p>Leche Colun</p>
                        <p class="precio normal">$1380</p>
                        <p class="precio oferta">$1200</p>
                        <button class="agregar-btn" onclick="addToCart('Leche Colun', 1200)">Agregar al carrito</button>
                    </div>
                    <div class="producto">
                        <div class="image-container">
                            <img src="images/Platanos.jpg" alt="Plátano granel 500 g">
                            <span class="tooltip">Plátano granel: Ideal para tu desayuno.</span>
                        </div>
                        <p>Plátano granel 500 g</p>
                        <p class="precio normal">$725</p>
                        <p class="precio oferta">$580</p>
                        <button class="agregar-btn" onclick="addToCart('Plátano 500g', 580)">Agregar al carrito</button>
                    </div>
                </div>
            </div>
    
            <h2 class="carrito-titulo">Carrito</h2>
            <ul id="cart-items"></ul>
            <p>Total: $<span id="total">0</span></p>
        </div> <!-- Fin del contenedor principal -->
    </main>

    <footer>
        <img src="images/logo.png" alt="Logo">
        <p>© 2024 Cacique del Ahorro. Todos los derechos reservados.</p>
        <a href="Iniciocda.html" class="inicio-btn">Ir a Inicio</a> <!-- Botón de ir a inicio -->
    </footer>

    <script>
        const cart = [];
        const products = {
            'Producto 1': { price: 2500 },
            'Producto 2': { price: 2000 },
            'Producto 3': { price: 1200 },
            'Producto 4': { price: 3000 }
        };

        function addToCart(productName, price) {
            cart.push({ name: productName, price: price });
            updateCart();
        }

        function removeFromCart(productName) {
            const index = cart.findIndex(item => item.name === productName);
            if (index > -1) {
                cart.splice(index, 1);
                updateCart();
            }
        }

        function updateCart() {
            const cartItems = document.getElementById('cart-items');
            const totalDisplay = document.getElementById('total');
            cartItems.innerHTML = '';
            let total = 0;

            cart.forEach(item => {
                total += item.price;
                const li = document.createElement('li');
                li.classList.add('cart-item');
                li.textContent = `${item.name}: $${item.price}`;
                
                const removeBtn = document.createElement('button');
                removeBtn.textContent = 'Eliminar';
                removeBtn.classList.add('remove');
                removeBtn.onclick = () => removeFromCart(item.name);

                li.appendChild(removeBtn);
                cartItems.appendChild(li);
            });

            totalDisplay.textContent = total;
        }
        
    </script>

</body>
</html>
