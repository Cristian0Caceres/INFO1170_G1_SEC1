<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="carrito_styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Lemon&display=swap" rel="stylesheet">
    <title>Carrito de Presupuesto</title>
    <script>
        // Función que realiza la búsqueda
        function realizarBusqueda() {
            let query = document.getElementById("searchInput").value;
            if (query) {
                alert("Buscando: " + query); // Aquí puedes reemplazar el alert por la lógica de búsqueda que prefieras
            }
        }

        // Detectar cuando se presiona Enter en el campo de búsqueda
        document.addEventListener("DOMContentLoaded", function() {
            let searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("keydown", function(event) {
                if (event.key === "Enter") { // Verificar si la tecla presionada es Enter
                    realizarBusqueda(); // Llamar a la función de búsqueda
                }
            });
        });
    </script>
</head>
<body>
    <header>
        <section class="barra-superior">
            <div class="logo">
                <img src="images/logoECDA.png" alt="Logo">
            </div>
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Buscar...">
                <button onclick="realizarBusqueda()">
                    <img src="images/buscar.png" alt="Buscar">
                </button>
            </div>
            <div class="icons">
                <a href="LINK">
                    <img src="images/ahorro.png" href= alt="Ahorro">
                </a>
                <a href="LINK">
                    <img src="images/categorias.png" alt="Categorias">
                </a>
                <a href="LINK">
                    <img src="images/carrito-de-compras.png" alt="Carrito de Compras">
                </a>
                <a href="LINK">
                    <img src="images/tienda.png" alt="Tienda">
                <a href="LINK">
                    <img src="images/iniciar-sesion.png" alt="Iniciar Sesion">
                </a>    
            </div>
        </section>
    </header>

    <main>
        <h2 class="titulo-carrito">Carrito de Presupuesto</h2>
    
        <div class="tienda-container"> <!-- Contenedor gigante para Tienda 1 -->
            <h2>Tienda 1</h2>
            <div class="productos-container">
                <div class="producto">
                    <img src="ruta/a/imagen1.jpg" alt="Producto 1">
                    <p>Producto 1</p>
                    <p class="precio normal">$3000</p> <!-- Precio normal -->
                    <p class="precio oferta">$2500</p> <!-- Precio en oferta -->
                    <button class="agregar-btn" onclick="addToCart('Producto 1', 2500)">Agregar al carrito</button>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen2.jpg" alt="Producto 2">
                    <p>Producto 2</p>
                    <p class="precio normal">$2500</p> <!-- Precio normal -->
                    <p class="precio oferta">$2000</p> <!-- Precio en oferta -->
                    <button class="agregar-btn" onclick="addToCart('Producto 2', 2000)">Agregar al carrito</button>
                </div>
            </div>
        </div>
    
        <div class="tienda-container"> <!-- Contenedor gigante para Tienda 2 -->
            <h2>Tienda 2</h2>
            <div class="productos-container">
                <div class="producto">
                    <img src="ruta/a/imagen3.jpg" alt="Producto 3">
                    <p>Producto 3</p>
                    <p class="precio normal">$1500</p> <!-- Precio normal -->
                    <p class="precio oferta">$1200</p> <!-- Precio en oferta -->
                    <button class="agregar-btn" onclick="addToCart('Producto 3', 1200)">Agregar al carrito</button>
                </div>
                <div class="producto">
                    <img src="ruta/a/imagen4.jpg" alt="Producto 4">
                    <p>Producto 4</p>
                    <p class="precio normal">$3500</p> <!-- Precio normal -->
                    <p class="precio oferta">$3000</p> <!-- Precio en oferta -->
                    <button class="agregar-btn" onclick="addToCart('Producto 4', 3000)">Agregar al carrito</button>
                </div>
            </div>
        </div>
    
        <h2>Carrito</h2>
        <ul id="cart-items"></ul>
        <p>Total: $<span id="total">0</span></p>
    </main>

    <footer>
        <img src="images/logo.png" alt="Logo">
        <p>© 2024 Cacique del Ahorro. Todos los derechos reservados.</p>
        <a href="Iniciocda.html" class="inicio-btn">Ir a Inicio</a> <!-- Botón de ir a inicio -->
    </footer>

    <script>
        const cart = [];
        const products = {
            'Producto 1': { price: 2500 },
            'Producto 2': { price: 2000 },
            'Producto 3': { price: 1200 },
            'Producto 4': { price: 3000 }
        };

        function addToCart(productName, price) {
            cart.push({ name: productName, price: price });
            updateCart();
        }

        function removeFromCart(productName) {
            const index = cart.findIndex(item => item.name === productName);
            if (index > -1) {
                cart.splice(index, 1);
                updateCart();
            }
        }

        function updateCart() {
            const cartItems = document.getElementById('cart-items');
            const totalDisplay = document.getElementById('total');
            cartItems.innerHTML = '';
            let total = 0;

            cart.forEach(item => {
                total += item.price;
                const li = document.createElement('li');
                li.classList.add('cart-item');
                li.textContent = `${item.name}: $${item.price}`;
                
                const removeBtn = document.createElement('button');
                removeBtn.textContent = 'Eliminar';
                removeBtn.classList.add('remove');
                removeBtn.onclick = () => removeFromCart(item.name);

                li.appendChild(removeBtn);
                cartItems.appendChild(li);
            });

            totalDisplay.textContent = total;
        }
    </script>
</body>
</html>
