<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Ahorro</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body { font-family: Arial, sans-serif; }
        .product { margin: 10px 0; }
        .cart { margin-top: 20px; }
        .total { font-weight: bold; }
        .proposal { color: green; cursor: pointer; text-decoration: underline; }
        .remove { color: red; cursor: pointer; margin-left: 10px; }
    </style>
</head>
<body>
    <h1>Simulador de Ahorro</h1>

    <div>
        <h3>Productos</h3>
        <div class="product">
            <span>Fideos: $3000</span>
            <button onclick="addToCart('Fideos', 3000)">Agregar al carrito</button>
        </div>
        <div class="product">
            <span>Arroz: $2500</span>
            <button onclick="addToCart('Arroz', 2500)">Agregar al carrito</button>
        </div>
        <div class="product">
            <span>Azúcar: $1500</span>
            <button onclick="addToCart('Azúcar', 1500)">Agregar al carrito</button>
        </div>
        <div class="product">
            <span>Pansito: $2500</span>
            <button onclick="addToCart('Pansito', 2500)">Agregar al carrito</button>
        </div>
    </div>

    <div class="cart">
        <h3>Carrito</h3>
        <ul id="cart-items"></ul>
        <p class="total">Total: $<span id="total">0</span></p>
    </div>

    <script>
        const cart = [];
        const products = {
            'Fideos': { price: 3000, cheaperOption: { name: 'Fideos (económicos)', price: 2000 } },
            'Arroz': { price: 2500, cheaperOption: null },
            'Azúcar': { price: 1500, cheaperOption: { name: 'Azúcar (económico)', price: 1000 } },
            'Pansito': { price: 2500, cheaperOption: { name: 'Pan Luchito (económico)', price: 1500 } }
        };

        function addToCart(productName, price) {
            cart.push({ name: productName, price: price });
            updateCart();
            proposeCheaperOption(productName);
        }

        function removeFromCart(productName) {
            const index = cart.findIndex(item => item.name === productName);
            if (index > -1) {
                cart.splice(index, 1); // Eliminar el producto del carrito
                updateCart(); // Actualizar el carrito
            }
        }

        function updateCart() {
            const cartItems = document.getElementById('cart-items');
            const totalDisplay = document.getElementById('total');
            cartItems.innerHTML = '';
            let total = 0;

            cart.forEach(item => {
                total += item.price;
                const li = document.createElement('li');
                li.textContent = `${item.name}: $${item.price}`;
                
                // Botón para eliminar producto
                const removeBtn = document.createElement('span');
                removeBtn.textContent = 'Eliminar';
                removeBtn.classList.add('remove');
                removeBtn.onclick = () => removeFromCart(item.name);

                li.appendChild(removeBtn);
                cartItems.appendChild(li);
            });

            totalDisplay.textContent = total;
        }

        function proposeCheaperOption(productName) {
            const product = products[productName];
            if (product && product.cheaperOption) {
                const cartItems = document.getElementById('cart-items');
                const cheaperOption = document.createElement('li');
                cheaperOption.classList.add('proposal');
                cheaperOption.textContent = `¿Quieres cambiar a ${product.cheaperOption.name} por $${product.cheaperOption.price}?`;
                cheaperOption.onclick = () => switchToCheaper(productName);
                cartItems.appendChild(cheaperOption);
            }
        }

        function switchToCheaper(productName) {
            const cheaperOption = products[productName].cheaperOption;
            const index = cart.findIndex(item => item.name === productName);
            if (index > -1) {
                cart[index] = { name: cheaperOption.name, price: cheaperOption.price };
                updateCart();
            }
        }
    </script>
</body>
</html>
                            